{% extends 'main.html' %}
<div class="my-5"></div>
{% block content %}
{% load static %}

<div id="slide_preview" class=""> 
        <div id= main_container class="">
    <div id="div_main_title" class="row justify-content-center">
           <div class="text-center col-sm-auto rounded">
               <h1 id = "mytitle1" class="" >{{ object.main_title }}</h1></div>
           <div id=badge></div> 
        </div> 
        
                <div  id="btn_group" class=""></div>           
        <div id="d-flex" class="">

            <div id="container_main_image" class=""> 
                <img id="main_image" class=" col-12 h-50 rounded img-responsive text-center"
                        src="{% static '' %}{{object.main_img_source}}" alt="images informatiques">
                   

            </div>
        </div>

<div id= "text-container" class="">
        <div class="row">

         <div id="div_legend" class=""> <h5 id= "subtitle" class=""> {{object.main_img_legend}}</h5>
        </div> 
        </div> 
    <section id="section2">
        <div id="demo" class="carousel slide card-title text-center" data-bs-ride="carousel">
            <div class= ""> <span id="carousel_name" class="">{{object.carousel_name}}</span></div>
            <div id="carousel" class="carousel-inner"> <div class="carousel-item active" data-bs-interval="4000">
                        <img src="{% static 'img/python-django3.png' %}" alt="Carrousel slide 1" class="text-center">
                </div><div class="carousel-item card-img-top" data-bs-interval="3000">
                            <img src="{% static 'img/javascript.jpg' %}" alt="Carrousel slide 2" class="text-center">
                </div><div class="carousel-item" data-bs-interval="2000">
                        <img src="{% static 'img/bootstrap2.jpg' %}" alt="Carrousel slide 2" class="text-center">
                </div><div class="carousel-item" data-bs-interval="2000">
                        <img src="{% static 'img/vscode.jpg' %}" alt="Carrousel slide 5" class="text-center">
                </div><div class="carousel-item" data-bs-interval="2000">
                        <img src="{% static 'img/pycharm.jpg' %}" alt="Carrousel slide 5" class="text-center">
                </div><div class="carousel-item" data-bs-interval="2000">
                    <img src="{% static 'img/git.jpg' %}" alt="Carrousel slide 4" class="text-center">
                </div><div class="carousel-item" data-bs-interval="2000">
                    <img src="{% static 'img/logo-gunicorn.jpg' %}" alt="Carrousel slide 6" class="text-center">
                </div><div class="carousel-item" data-bs-interval="2000">
                        <img src="{% static 'img/heroku2.png' %}" alt="Carrousel slide 7" class="text-center">
                </div></div>
        </div>  
        {% if not user.is_authenticated %}
        <script type="text/javascript"> var user_authenticated = false 
        </script>
<div class="row justify-content-center">
                <h3 id="title1" class=" ">{{object.first_title_h3}}</h3>
        </div>
            <div class='row justify-content-between'>
                <p id="first_p" class="">{{object.first_p |safe }}<p> 
             </div> 
        <div class="text-center">
    <img class="col-sm-auto rounded " src="{% static '' %}{{object.second_img_source}}" alt="{{object.second_img_alt}}" >
    </div>
    <div class="row">
        <p class="col-sm-auto">{{object.preview_text |safe}}</p>
        </div>

        <div id="signup" class="justify-content-center text-center">
            <a id="btn_signup" href="{% url 'main' %}login" class="btn btn-lg col-sm-auto mb-3">
                Inscrivez-vous et/ou connectez-vous pour lire la suite. </a>
        </div>
    {% endif %}
    <!-- ====== DEFINTION DE LA VARIABLE NUMBER_OF_BLOCK ===============-->
    <script type="text/javascript"> var number_of_block = 0 </script>
    <!-- ===============================================================-->
    {% if user.is_authenticated %}
    
    <script type="text/javascript"> var user_authenticated = true </script>
    
    {% for block in blocks %}
    <!-- ========== INCREMENTATION DE LA VARIABLE NUMBER_OF_BLOCK ======-->
    <script type="text/javascript"> number_of_block++ </script>
    <!--================================================================-->
    <div id="block_div{{block.id}}" class="container">
    <div class="text-center"> <h2> {{ block.date }} </h2>  </div>

    <div> <h3 class=""> {{ block.title1 }}</h3> </div>
        <div class="text-center "><img class=" col-sm-auto rounded " src="{%static ''%}{{block.image1}}" alt=""></div>
    <div class="p"> {{ block.paragraph1 |safe | linebreaks }}</div>
   <div class="text-center"> 
        <h3 class=""> {{block.title2}}</h3>
            </div>
        <div class="text-center">

                <img id = "" class="col-sm-auto rounded" src="{% static '' %}{{block.image2}}" alt="">
        </div>
            <div class="p" > {{block.paragraph2 |safe | linebreaks  }}
            </div>

            <div class="text-center">
                <h3 class=""> {{block.title3}}</h3>
            </div> 
        <div class="text-center">
            <img id = "" class="col-sm-auto rounded img-fluid" src="{% static '' %}{{block.image3}}" alt=""> 
        </div> 
    <div class="p" > {{block.paragraph3 |safe | linebreaks}}
    </div>

    </div>
    {% endfor %}       
</div>
    </section>

        {% endif %}

        {% block footer %}
    <div id="divbtt" class="invisible" >
                <button type="button" id="btnbtt"
                        class="btn position-fixed end-0 mb-10 bottom-15">
                    Revenir en haut de la page</button>
                </div>
    {% endblock %}
        

    <script type = "module" src="{%static '/myJS/script.js' %}"></script>
    <script type = "module" src="{%static '/myJS/color_theme.js' %}"></script>


</div> 
{% endblock %}

